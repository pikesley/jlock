@use "./utils";

$name: neon;

$activated-styles: none;
$deactivated-styles: none;

@mixin frames {
  @keyframes turn-on {
    0%,
    24.999%,
    26%,
    34.999%,
    36%,
    49.999%,
    51%,
    54.999%,
    56%,
    59.999%,
    61%,
    79.999%,
    81% {
      @include utils.render-styles($deactivated-styles);
    }

    25%,
    35%,
    50%,
    55%,
    60%,
    80%,
    100% {
      @include utils.render-styles($activated-styles);
      opacity: 1;
    }
  }

  @keyframes flicker {
    0%,
    19.999%,
    22%,
    62.999%,
    64%,
    64.999%,
    70%,
    100% {
      @include utils.render-styles($activated-styles);
      opacity: 1;
    }
    20%,
    21.999%,
    63%,
    63.999%,
    65%,
    69.999% {
      @include utils.render-styles($deactivated-styles);
    }
  }
}

@mixin setup($duration: 2s) {
  .active {
    animation: turn-on 4s linear 0ms 1, flicker 30s linear 3s infinite;
  }

  .inactive {
    @include utils.render-styles($deactivated-styles);
  }

  @include frames;
}
