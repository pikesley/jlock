<!DOCTYPE html>
<html>
  <head>
    <link
      rel="shortcut icon"
      type="image/png"
      href="{{ url_for('static', filename='../images/favicon.png') }}"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='../css/controller.css') }}"
    />

    <title>jlock control</title>
  </head>

  <body>
    <header>
      <h1>Jlock</h1>
      <h2>on <em>{{host_name}}</em></h2>
      <hr />
    </header>

    <main>
      <button>
        <a href="#" id="next-button">Next style</a>
      </button>

      <hr />

      <h3>Choose language</h3>
      {% for key, value in languages.items() %}

      <button>
        <a href="#" onClick="languageSelect('{{value}}')">{{key}}</a>
      </button>

      {% endfor %}
    </main>

    <script>
      let button = document.querySelector("#next-button");
      button.addEventListener("click", (event) => {
        cycle();
      });

      let cycle = function () {
        let nextStyle = document.querySelector("#nextStyle");
        fetch("/controller/cycle-style", {
          headers: { "Content-Type": "application/json" },
          method: "POST",
        });
      };

      let languageSelect = function (languageID) {
        fetch("/controller/language", {
          headers: { "Content-Type": "application/json" },
          method: "POST",
          body: JSON.stringify({ language: languageID }),
        });
      };
    </script>
  </body>
</html>
